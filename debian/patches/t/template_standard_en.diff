From: Jiang Xin <worldhello.net@gmail.com>
Subject: [PATCH] t/template_standard_en

<patch description>

Signed-off-by: Jiang Xin <worldhello.net@gmail.com>

---
 html/Makefile.in              |   10 +++---
 html/error.html               |    7 +---
 html/expired_error.html       |   13 ++++-----
 html/inc/footer.inc           |    2 +
 html/inc/header.inc           |    3 ++
 html/login.html               |   30 +++++++++++-----------
 html/login_error.html         |   32 +++++++++++-----------
 html/looping.html             |   56 -----------------------------------------
 html/looping.html.en          |   54 +++++++++++++++++++++++++++++++++++++++
 html/post_error.html          |   33 ------------------------
 html/post_error.html.en       |   30 ++++++++++++++++++++++
 html/reauth.html              |   37 +++++++++++++--------------
 html/validation_error.html.en |   29 +++++++++++++++++++++
 html/verify-logout.html       |    7 +---
 14 files changed, 182 insertions(+), 161 deletions(-)

diff --git a/html/Makefile.in b/html/Makefile.in
index 8785b78..b5d6334 100755
--- a/html/Makefile.in
+++ b/html/Makefile.in
@@ -1,5 +1,5 @@
-TEMPLATES = error.html expired_error.html login.html login_error.html verify-logout.html reauth.html
-HTML = cosign_base.css cosign_js.css post_error.html looping.html
+TEMPLATES = error.html expired_error.html login.html login_error.html verify-logout.html reauth.html inc
+HTML = cosign_base.css cosign_js.css post_error.html.en looping.html.en validation_error.html.en
 prefix=@prefix@
 exec_prefix=@exec_prefix@
 TMPLDIR  = @prefix@/templates
@@ -12,13 +12,13 @@ all: ${TEMPLATES}
 
 install : all
 	-mkdir -p $(DESTDIR)${exec_prefix}
-	-mkdir -p $(DESTDIR)${TMPLDIR}
+	-mkdir -p $(DESTDIR)${TMPLDIR}/en
 	-mkdir -p $(DESTDIR)${HTMLDIR}
 	for i in ${TEMPLATES}; do \
-	    ${INSTALL} -m 0644 -c $$i $(DESTDIR)${TMPLDIR}/; \
+	    cp -a $$i $(DESTDIR)${TMPLDIR}/en; \
 	done
 	for i in ${HTML}; do \
-	    ${INSTALL} -m 0644 -c $$i $(DESTDIR)${HTMLDIR}/; \
+	    cp -a $$i $(DESTDIR)${HTMLDIR}/; \
 	done
 	-mkdir -p $(DESTDIR)${HTMLDIR}/images
 	cp images/*.gif $(DESTDIR)${HTMLDIR}/images/
diff --git a/html/error.html b/html/error.html
index 3a3a08f..9af21ce 100755
--- a/html/error.html
+++ b/html/error.html
@@ -16,9 +16,7 @@
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<div id="main">
 		<div id="uiRow">
 			<div id="leftUIcol">
@@ -48,7 +46,6 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 </body>
 </html>
diff --git a/html/expired_error.html b/html/expired_error.html
index 0185219..ac82331 100644
--- a/html/expired_error.html
+++ b/html/expired_error.html
@@ -21,21 +21,20 @@
 	window.onload = function() {
 		var cosign = new Cosign('$f');
 		cosign.setSatisfied('$d');
-		cosign.addFactor(['friend','UMICH.EDU'],'kerbTitle','kerberos');
+		cosign.addFactor(['ldap','friend'],'kerbTitle','kerberos');
 		cosign.addFactor('otp','otpTitle','otp');
 		cosign.addFactor('kx509','kx509Title','kx509');
 		cosign.addInfoBox('kerbInfo','kerbInfoShow','kerbInfoHide');
 		cosign.addInfoBox('otpInfo','otpInfoShow','otpInfoHide');
 		cosign.addInfoBox('kx509Info','kx509InfoShow','kx509InfoHide');
+		cosign.setDefaultOpen('ldap');
 		cosign.initUI();
 	}
 	</script>
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<hr class="text" />
 	<ul class="text">
 		<li><a href="#instruct" title="Jump to the Web Login instructions [ALT + 1 Windows / CONTROL + 1 Mac]" accesskey="1">Jump
@@ -101,7 +100,7 @@
 				<input type="hidden" name="service"
 				value="$c" />
 				<div id="error">$e</div>
-				<div class="factorHead"> <a href="#" tabindex="10">Help</a>
+				<div class="factorHead">
 					<h2 id="kerbTitle"><span>&nbsp;</span>ID &amp; Password</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -125,7 +124,7 @@
 						</tr>
 					</table>
 					Need <a href="#kerbInfo" id="kerbInfoShow" tabindex="7">an account or password help?</a> </div>
-				<div class="factorHead"> <a href="#" tabindex="11">Help</a>
+				<div class="factorHead">
 					<h2 id="otpTitle"><span>&nbsp;</span>One Time Passcode</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -141,7 +140,7 @@
 						</tr>
 					</table>
 					Manage your <a href="#otpInfo" id="otpInfoShow" tabindex="8">token</a> </div>
-				<div class="factorHead"> <a href="#" tabindex="12">Help</a>
+				<div class="factorHead">
 					<h2 id="kx509Title"><span>&nbsp;</span>Certificate</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
diff --git a/html/inc/footer.inc b/html/inc/footer.inc
new file mode 100644
index 0000000..f7eb918
--- /dev/null
+++ b/html/inc/footer.inc
@@ -0,0 +1,2 @@
+<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
+		of the University of Michigan</a> </div>
diff --git a/html/inc/header.inc b/html/inc/header.inc
new file mode 100644
index 0000000..f0a35bc
--- /dev/null
+++ b/html/inc/header.inc
@@ -0,0 +1,3 @@
+	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
+		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
+		</span> <strong>Our Home Page</strong></a> </div>
diff --git a/html/login.html b/html/login.html
index 98fa0e1..b36a0e1 100755
--- a/html/login.html
+++ b/html/login.html
@@ -21,21 +21,20 @@
 	window.onload = function() {
 		var cosign = new Cosign('$f');
 		cosign.setSatisfied('$d');
-		cosign.addFactor(['friend','UMICH.EDU'],'kerbTitle','kerberos');
+		cosign.addFactor(['ldap','friend'],'kerbTitle','kerberos');
 		cosign.addFactor('otp','otpTitle','otp');
 		cosign.addFactor('kx509','kx509Title','kx509');
 		cosign.addInfoBox('kerbInfo','kerbInfoShow','kerbInfoHide');
 		cosign.addInfoBox('otpInfo','otpInfoShow','otpInfoHide');
 		cosign.addInfoBox('kx509Info','kx509InfoShow','kx509InfoHide');
+		cosign.setDefaultOpen('ldap');
 		cosign.initUI();
 	}
 	</script>
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<hr class="text" />
 	<ul class="text">
 		<li><a href="#instruct" title="Jump to the Web Login instructions [ALT + 1 Windows / CONTROL + 1 Mac]" accesskey="1">Jump
@@ -54,13 +53,15 @@
 		<div id="uiRow">
 			<div id="leftUIcol">
 				<h1 id="instruct">Authentication Required</h1>
-				<p>Please enter your authentication information and click the &quot;Log&nbsp;In&quot; button
-					to continue.</p>
-				<p class="jsOnly">Authentication
-				sections marked with a <img
-				src="/cosign/images/circle.gif" alt="yellow circle" /> are
-					required.</p>
+				<div id="mainInfo">
+					<p>Please enter your authentication information and click the &quot;Log&nbsp;In&quot; button
+						to continue.</p>
+					<p class="jsOnly">Authentication
+					sections marked with a <img
+					src="/cosign/images/circle.gif" alt="yellow circle" /> are
+						required.</p>
 				<p>By using this service you agree to adhere to our policies and guidelines.</p>
+				</div>
 				<p class="noScript">This page displays best when JavaScript is enabled in your web
 					browser.</p>
 				<div id="kerbInfo" class="infoBox">
@@ -102,7 +103,7 @@
 				<input type="hidden" name="service"
 				value="$c" />
 				<!--div id="error">$e</div-->
-				<div class="factorHead"> <a href="#" tabindex="10">Help</a>
+				<div class="factorHead">
 					<h2 id="kerbTitle"><span>&nbsp;</span>ID &amp; Password</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -122,7 +123,7 @@
 						</tr>
 					</table>
 					Need <a href="#kerbInfo" id="kerbInfoShow" tabindex="7">an account or password help?</a> </div>
-				<div class="factorHead"> <a href="#" tabindex="11">Help</a>
+				<div class="factorHead">
 					<h2 id="otpTitle"><span>&nbsp;</span>One Time Passcode</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -138,7 +139,7 @@
 						</tr>
 					</table>
 					Manage your <a href="#otpInfo" id="otpInfoShow" tabindex="8">token</a> </div>
-				<div class="factorHead"> <a href="#" tabindex="12">Help</a>
+				<div class="factorHead">
 					<h2 id="kx509Title"><span>&nbsp;</span>Certificate</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -158,7 +159,6 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 </body>
 </html>
diff --git a/html/login_error.html b/html/login_error.html
index 3cf1c94..f70f5ae 100755
--- a/html/login_error.html
+++ b/html/login_error.html
@@ -21,21 +21,20 @@
 	window.onload = function() {
 		var cosign = new Cosign('$f');
 		cosign.setSatisfied('$d');
-		cosign.addFactor(['friend','UMICH.EDU'],'kerbTitle','kerberos');
+		cosign.addFactor(['ldap','friend'],'kerbTitle','kerberos');
 		cosign.addFactor('otp','otpTitle','otp');
 		cosign.addFactor('kx509','kx509Title','kx509');
 		cosign.addInfoBox('kerbInfo','kerbInfoShow','kerbInfoHide');
 		cosign.addInfoBox('otpInfo','otpInfoShow','otpInfoHide');
 		cosign.addInfoBox('kx509Info','kx509InfoShow','kx509InfoHide');
+		cosign.setDefaultOpen('ldap');
 		cosign.initUI();
 	}
 	</script>
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<hr class="text" />
 	<ul class="text">
 		<li><a href="#instruct" title="Jump to the Web Login instructions [ALT + 1 Windows / CONTROL + 1 Mac]" accesskey="1">Jump
@@ -54,13 +53,15 @@
 		<div id="uiRow">
 			<div id="leftUIcol">
 				<h1 id="instruct">Authentication Required</h1>
-				<p>Please enter your authentication information and click the &quot;Log&nbsp;In&quot; button
-					to continue.</p>
-				<p class="jsOnly">Authentication
-				sections marked with a <img
-				src="/cosign/images/circle.gif" alt="yellow circle" /> are
-					required.</p>
-				<p>By using this service you agree to adhere to our policies and guidelines.</p>
+				<div id="mainInfo">
+					<p>Please enter your authentication information and click the &quot;Log&nbsp;In&quot; button
+						to continue.</p>
+					<p class="jsOnly">Authentication
+					sections marked with a <img
+					src="/cosign/images/circle.gif" alt="yellow circle" /> are
+						required.</p>
+					<p>By using this service you agree to adhere to our policies and guidelines.</p>
+				</div>
 				<p class="noScript">This page displays best when JavaScript is enabled in your web
 					browser.</p>
 				<div id="kerbInfo" class="infoBox">
@@ -102,7 +103,7 @@
 				<input type="hidden" name="service"
 				value="$c" />
 				<div id="error">$e</div>
-				<div class="factorHead"> <a href="#" tabindex="10">Help</a>
+				<div class="factorHead">
 					<h2 id="kerbTitle"><span>&nbsp;</span>ID &amp; Password</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -126,7 +127,7 @@
 						</tr>
 					</table>
 					Need <a href="#kerbInfo" id="kerbInfoShow" tabindex="7">an account or password help?</a> </div>
-				<div class="factorHead"> <a href="#" tabindex="11">Help</a>
+				<div class="factorHead">
 					<h2 id="otpTitle"><span>&nbsp;</span>One Time Passcode</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -142,7 +143,7 @@
 						</tr>
 					</table>
 					Manage your <a href="#otpInfo" id="otpInfoShow" tabindex="8">token</a> </div>
-				<div class="factorHead"> <a href="#" tabindex="12">Help</a>
+				<div class="factorHead">
 					<h2 id="kx509Title"><span>&nbsp;</span>Certificate</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -162,7 +163,6 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 </body>
 </html>
diff --git a/html/looping.html b/html/looping.html
deleted file mode 100755
index 808ac19..0000000
--- a/html/looping.html
+++ /dev/null
@@ -1,56 +0,0 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
-<meta http-equiv="Pragma" content="no-cache" />
-<meta http-equiv="Expires" content="Monday, 16-Apr-73 13:10:00 GMT" />
-<title>Your browser is looping!</title>
-<style type="text/css" media="screen">
-/* <![CDATA[ */@import "/cosign/cosign_base.css"/**/;/* ]]> */
-
-#rightUIcol .factorHead h2 {
-	background: none;
-	color: #999;
-}
-</style>
-</head>
-<body>
-<div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
-	<div id="main">
-		<div id="uiRow">
-			<div id="leftUIcol">
-				<h1 class="error">Authentication Error</h1>
-				<p>The Web Login-protected site that you were connecting to encountered an error while
-					processing your authentication. Please delete your cookies, restart your browser,
-					and try again. If you need assistance, contact <a href="#">Technical Support (put
-					URL here)</a>.</p>
-				<p><a href="#">Put URL to main CoSign page here</a></p>
-				<p class="techInfo"><strong>Technical Info:</strong> Browser is stuck in an infinite
-					redirect loop.</p>
-			</div>
-			<form action="#" method="post" name="factors" id="rightUIcol">
-				<div class="factorHead">
-					<h2>ID &amp; Password</h2>
-				</div>
-				<div class="factorHead">
-					<h2>One Time Passcode</h2>
-				</div>
-				<div class="factorHead">
-					<h2>Certificate</h2>
-				</div>
-				<div id="loginButton">
-					<input type="submit" name="doLogin" value="Log In" disabled="disabled" />
-				</div>
-			</form>
-			<div class="clear">&nbsp;</div>
-		</div>
-		<div id="uiBottom">&nbsp;</div>
-	</div>
-</div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
-</body>
-</html>
diff --git a/html/looping.html.en b/html/looping.html.en
new file mode 100755
index 0000000..ba34b0e
--- /dev/null
+++ b/html/looping.html.en
@@ -0,0 +1,54 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+<head>
+<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+<meta http-equiv="Pragma" content="no-cache" />
+<meta http-equiv="Expires" content="Monday, 16-Apr-73 13:10:00 GMT" />
+<title>Your browser is looping!</title>
+<style type="text/css" media="screen">
+/* <![CDATA[ */@import "/cosign/cosign_base.css"/**/;/* ]]> */
+
+#rightUIcol .factorHead h2 {
+	background: none;
+	color: #999;
+}
+</style>
+</head>
+<body>
+<div id="page">
+	<!--#include file="en/inc/header.inc" -->
+	<hr class="text" />
+	<div id="main">
+		<div id="uiRow">
+			<div id="leftUIcol">
+				<h1 class="error">Authentication Error</h1>
+				<p>The Web Login-protected site that you were connecting to encountered an error while
+					processing your authentication. Please delete your cookies, restart your browser,
+					and try again. If you need assistance, contact <a href="#">Technical Support (put
+					URL here)</a>.</p>
+				<p><a href="#">Put URL to main CoSign page here</a></p>
+				<p class="techInfo"><strong>Technical Info:</strong> Browser is stuck in an infinite
+					redirect loop.</p>
+			</div>
+			<form action="#" method="post" name="factors" id="rightUIcol">
+				<div class="factorHead">
+					<h2>ID &amp; Password</h2>
+				</div>
+				<div class="factorHead">
+					<h2>One Time Passcode</h2>
+				</div>
+				<div class="factorHead">
+					<h2>Certificate</h2>
+				</div>
+				<div id="loginButton">
+					<input type="submit" name="doLogin" value="Log In" disabled="disabled" />
+				</div>
+			</form>
+			<div class="clear">&nbsp;</div>
+		</div>
+		<div id="uiBottom">&nbsp;</div>
+	</div>
+</div>
+<!--#include file="en/inc/footer.inc" -->
+</body>
+</html>
diff --git a/html/post_error.html b/html/post_error.html
deleted file mode 100755
index 071fa03..0000000
--- a/html/post_error.html
+++ /dev/null
@@ -1,33 +0,0 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
-<meta http-equiv="Pragma" content="no-cache" />
-<meta http-equiv="Expires" content="Monday, 16-Apr-73 13:10:00 GMT" />
-<title>You were trying to POST?</title>
-<style type="text/css" media="screen">
-/* <![CDATA[ */@import "/cosign/cosign_base.css"/**/;/* ]]> */
-</style>
-</head>
-<body>
-<div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
-	<div id="main">
-		<div id="uiRow">
-			<h1 class="error">Changes Not Saved</h1>
-			<p>You attempted to submit data to a Web Login-protected web site after your session
-				had timed out. Your changes have not been saved.</p>
-			<p>This can happen if your session has been idle for more than one hour or if you logged
-				out (for example, in another browser window) before submitting the data. Please contact <a href="#">Technical
-				Support (put URL here)</a> if you have any questions.</p>
-			<p><a href="#">Put URL to main CoSign page here</a></p>
-		</div>
-		<div id="uiBottom">&nbsp;</div>
-	</div>
-</div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
-</body>
-</html>
diff --git a/html/post_error.html.en b/html/post_error.html.en
new file mode 100755
index 0000000..27300a8
--- /dev/null
+++ b/html/post_error.html.en
@@ -0,0 +1,30 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+<head>
+<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+<meta http-equiv="Pragma" content="no-cache" />
+<meta http-equiv="Expires" content="Monday, 16-Apr-73 13:10:00 GMT" />
+<title>You were trying to POST?</title>
+<style type="text/css" media="screen">
+/* <![CDATA[ */@import "/cosign/cosign_base.css"/**/;/* ]]> */
+</style>
+</head>
+<body>
+<div id="page">
+	<!--#include file="en/inc/header.inc" -->
+	<div id="main">
+		<div id="uiRow">
+			<h1 class="error">Changes Not Saved</h1>
+			<p>You attempted to submit data to a Web Login-protected web site after your session
+				had timed out. Your changes have not been saved.</p>
+			<p>This can happen if your session has been idle for more than one hour or if you logged
+				out (for example, in another browser window) before submitting the data. Please contact <a href="#">Technical
+				Support (put URL here)</a> if you have any questions.</p>
+			<p><a href="#">Put URL to main CoSign page here</a></p>
+		</div>
+		<div id="uiBottom">&nbsp;</div>
+	</div>
+</div>
+<!--#include file="en/inc/footer.inc" -->
+</body>
+</html>
diff --git a/html/reauth.html b/html/reauth.html
index c70b0f2..2535580 100755
--- a/html/reauth.html
+++ b/html/reauth.html
@@ -20,8 +20,7 @@
 	document.getElementsByTagName('head')[0].appendChild(link);
 	window.onload = function() {
 		var cosign = new Cosign('$f');
-		cosign.setDefaultOpen( 'UMICH.EDU' );
-		cosign.addFactor(['friend','UMICH.EDU'],'kerbTitle','kerberos');
+		cosign.addFactor(['ldap','friend'],'kerbTitle','kerberos');
 		cosign.addFactor('otp','otpTitle','otp');
 		cosign.addFactor('kx509','kx509Title','kx509');
 		cosign.addInfoBox('kerbInfo','kerbInfoShow','kerbInfoHide');
@@ -29,15 +28,14 @@
 		cosign.addInfoBox('kx509Info','kx509InfoShow','kx509InfoHide');
 		cosign.setSubmitLink('switchUserL', 'switchUserForm');
 		cosign.setSubmitLink('switchUserR', 'switchUserForm');
+		cosign.setDefaultOpen('ldap');
 		cosign.initUI();
 	}
 	</script>
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<hr class="text" />
 	<ul class="text">
 		<li><a href="#instruct" title="Jump to the Web Login instructions [ALT + 1 Windows / CONTROL + 1 Mac]" accesskey="1">Jump
@@ -56,15 +54,17 @@
 		<div id="uiRow">
 			<div id="leftUIcol">
 				<h1 id="instruct">Re-Authentication Required</h1>
-				<p>To protect your personal information, you must verify your password. Please type
-					your password and click the Re-Authenticate button to continue.</p>
-				<p>If you are not $l, you may <a href="/cgi-bin/logout" id="switchUserL">Switch
-						Users</a> and log in as yourself.</p>
-				<p class="jsOnly">Authentication
-				sections marked with a <img
-				src="/cosign/images/circle.gif" alt="yellow circle" /> are
-					required.</p>
-				<p>By using this service you agree to adhere to our policies and guidelines.</p>
+				<div id="mainInfo">
+					<p>To protect your personal information, you must verify your password. Please type
+						your password and click the Re-Authenticate button to continue.</p>
+					<p>If you are not $l, you may <a href="/cgi-bin/logout" id="switchUserL">Switch
+							Users</a> and log in as yourself.</p>
+					<p class="jsOnly">Authentication
+					sections marked with a <img
+					src="/cosign/images/circle.gif" alt="yellow circle" /> are
+						required.</p>
+					<p>By using this service you agree to adhere to our policies and guidelines.</p>
+				</div>
 				<p class="noScript">This page displays best when JavaScript is enabled in your web
 					browser.</p>
 				<div id="kerbInfo" class="infoBox">
@@ -104,7 +104,7 @@
 			<input type="hidden" name="service" value="$c" />
 			<input type="hidden" name="reauth" value="true" />
 			<div id="error">$e</div>
-				<div class="factorHead"> <a href="#" tabindex="10">Help</a>
+				<div class="factorHead">
 					<h2 id="kerbTitle"><span>&nbsp;</span>ID &amp; Password</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -126,7 +126,7 @@
 						</tr>
 					</table>
 					Need <a href="#kerbInfo" id="kerbInfoShow" tabindex="7">an account or password help?</a> </div>
-				<div class="factorHead"> <a href="#" tabindex="11">Help</a>
+				<div class="factorHead">
 					<h2 id="otpTitle"><span>&nbsp;</span>One Time Passcode</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -142,7 +142,7 @@
 						</tr>
 					</table>
 					Manage your <a href="#otpInfo" id="otpInfoShow" tabindex="8">token</a> </div>
-				<div class="factorHead"> <a href="#" tabindex="12">Help</a>
+				<div class="factorHead">
 					<h2 id="kx509Title"><span>&nbsp;</span>Certificate</h2>
 					<div class="authComplete" style="display: none;">Authentication Complete</div>
 				</div>
@@ -162,8 +162,7 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 <form name="switch" id="switchUserForm" action="/cgi-bin/logout" enctype="application/x-www-form-urlencoded" method="post">
 	<input type="hidden" name="url" value="$r" />
 	<input type="hidden" name="service" value="$c" />
diff --git a/html/validation_error.html.en b/html/validation_error.html.en
new file mode 100755
index 0000000..145c8a2
--- /dev/null
+++ b/html/validation_error.html.en
@@ -0,0 +1,29 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+<head>
+<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+<meta http-equiv="Pragma" content="no-cache" />
+<meta http-equiv="Expires" content="Monday, 16-Apr-73 13:10:00 GMT" />
+<title>weblogin: URL validation failed</title>
+<style type="text/css" media="screen">
+/* <![CDATA[ */@import "/cosign/cosign_base.css"/**/;/* ]]> */
+</style>
+</head>
+<body>
+<div id="page">
+	<!--#include file="en/inc/header.inc" -->
+	<div id="main">
+		<div id="uiRow">
+			<h1 class="error">URL Validation Failed</h1>
+			<p>There is a problem with the URL to which you were redirected. Since this can
+         potentially indicate phishing or other suspicious activity, we have stopped
+         the redirect in order to protect your security.</p>
+			<p>You may be able to access the web site or service if you try again with its official URL.</p>
+			<p><a href="#">Put URL to main CoSign page here</a></p>
+		</div>
+		<div id="uiBottom">&nbsp;</div>
+	</div>
+</div>
+<!--#include file="en/inc/footer.inc" -->
+</body>
+</html>
diff --git a/html/verify-logout.html b/html/verify-logout.html
index ea68776..2df98c3 100755
--- a/html/verify-logout.html
+++ b/html/verify-logout.html
@@ -18,9 +18,7 @@
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<div id="main" class="logoutUI">
 		<div id="uiRow">
 		    <form name="f" method="post" action="/cgi-bin/logout">
@@ -39,7 +37,6 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 </body>
 </html>
-- 
tg: (dc23fe6..) t/template_standard_en (depends on: t/custom_cosign_path t/javascript)
