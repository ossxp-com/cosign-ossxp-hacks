From: Jiang Xin <worldhello.net@gmail.com>
Subject: [PATCH] t/template_standard_en

<patch description>

Signed-off-by: Jiang Xin <worldhello.net@gmail.com>

---
 html/Makefile.in        |    8 ++++----
 html/error.html         |    7 ++-----
 html/expired_error.html |    4 +---
 html/inc/footer.inc     |    2 ++
 html/inc/header.inc     |    3 +++
 html/login.html         |    7 ++-----
 html/login_error.html   |    7 ++-----
 html/reauth.html        |    7 ++-----
 html/verify-logout.html |    7 ++-----
 9 files changed, 20 insertions(+), 32 deletions(-)

diff --git a/html/Makefile.in b/html/Makefile.in
index 8785b78..dad358a 100755
--- a/html/Makefile.in
+++ b/html/Makefile.in
@@ -1,4 +1,4 @@
-TEMPLATES = error.html expired_error.html login.html login_error.html verify-logout.html reauth.html
+TEMPLATES = error.html expired_error.html login.html login_error.html verify-logout.html reauth.html inc
 HTML = cosign_base.css cosign_js.css post_error.html looping.html
 prefix=@prefix@
 exec_prefix=@exec_prefix@
@@ -12,13 +12,13 @@ all: ${TEMPLATES}
 
 install : all
 	-mkdir -p $(DESTDIR)${exec_prefix}
-	-mkdir -p $(DESTDIR)${TMPLDIR}
+	-mkdir -p $(DESTDIR)${TMPLDIR}/en
 	-mkdir -p $(DESTDIR)${HTMLDIR}
 	for i in ${TEMPLATES}; do \
-	    ${INSTALL} -m 0644 -c $$i $(DESTDIR)${TMPLDIR}/; \
+	    cp -a $$i $(DESTDIR)${TMPLDIR}/en; \
 	done
 	for i in ${HTML}; do \
-	    ${INSTALL} -m 0644 -c $$i $(DESTDIR)${HTMLDIR}/; \
+	    cp -a $$i $(DESTDIR)${HTMLDIR}/; \
 	done
 	-mkdir -p $(DESTDIR)${HTMLDIR}/images
 	cp images/*.gif $(DESTDIR)${HTMLDIR}/images/
diff --git a/html/error.html b/html/error.html
index 3a3a08f..9af21ce 100755
--- a/html/error.html
+++ b/html/error.html
@@ -16,9 +16,7 @@
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<div id="main">
 		<div id="uiRow">
 			<div id="leftUIcol">
@@ -48,7 +46,6 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 </body>
 </html>
diff --git a/html/expired_error.html b/html/expired_error.html
index 0185219..41b1f7d 100644
--- a/html/expired_error.html
+++ b/html/expired_error.html
@@ -33,9 +33,7 @@
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<hr class="text" />
 	<ul class="text">
 		<li><a href="#instruct" title="Jump to the Web Login instructions [ALT + 1 Windows / CONTROL + 1 Mac]" accesskey="1">Jump
diff --git a/html/inc/footer.inc b/html/inc/footer.inc
new file mode 100644
index 0000000..f7eb918
--- /dev/null
+++ b/html/inc/footer.inc
@@ -0,0 +1,2 @@
+<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
+		of the University of Michigan</a> </div>
diff --git a/html/inc/header.inc b/html/inc/header.inc
new file mode 100644
index 0000000..f0a35bc
--- /dev/null
+++ b/html/inc/header.inc
@@ -0,0 +1,3 @@
+	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
+		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
+		</span> <strong>Our Home Page</strong></a> </div>
diff --git a/html/login.html b/html/login.html
index 98fa0e1..07ec488 100755
--- a/html/login.html
+++ b/html/login.html
@@ -33,9 +33,7 @@
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<hr class="text" />
 	<ul class="text">
 		<li><a href="#instruct" title="Jump to the Web Login instructions [ALT + 1 Windows / CONTROL + 1 Mac]" accesskey="1">Jump
@@ -158,7 +156,6 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 </body>
 </html>
diff --git a/html/login_error.html b/html/login_error.html
index 3cf1c94..e512203 100755
--- a/html/login_error.html
+++ b/html/login_error.html
@@ -33,9 +33,7 @@
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<hr class="text" />
 	<ul class="text">
 		<li><a href="#instruct" title="Jump to the Web Login instructions [ALT + 1 Windows / CONTROL + 1 Mac]" accesskey="1">Jump
@@ -162,7 +160,6 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 </body>
 </html>
diff --git a/html/reauth.html b/html/reauth.html
index c70b0f2..4cde522 100755
--- a/html/reauth.html
+++ b/html/reauth.html
@@ -35,9 +35,7 @@
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<hr class="text" />
 	<ul class="text">
 		<li><a href="#instruct" title="Jump to the Web Login instructions [ALT + 1 Windows / CONTROL + 1 Mac]" accesskey="1">Jump
@@ -162,8 +160,7 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 <form name="switch" id="switchUserForm" action="/cgi-bin/logout" enctype="application/x-www-form-urlencoded" method="post">
 	<input type="hidden" name="url" value="$r" />
 	<input type="hidden" name="service" value="$c" />
diff --git a/html/verify-logout.html b/html/verify-logout.html
index ea68776..2df98c3 100755
--- a/html/verify-logout.html
+++ b/html/verify-logout.html
@@ -18,9 +18,7 @@
 </head>
 <body>
 <div id="page">
-	<div id="head"> <a id="mast" href="#" title="Link to Homepage"><span>
-		<!--A small logo for when CSS is disabled goes here. <img src="#" alt="" width="16" height="16" />//-->
-		</span> <strong>Our Home Page</strong></a> </div>
+  $!include(inc/header.inc)
 	<div id="main" class="logoutUI">
 		<div id="uiRow">
 		    <form name="f" method="post" action="/cgi-bin/logout">
@@ -39,7 +37,6 @@
 		<div id="uiBottom">&nbsp;</div>
 	</div>
 </div>
-<div id="foot">&copy; 2006 <a href="http://www.umich.edu/~regents/" title="Regents of the University of Michigan"> Regents
-		of the University of Michigan</a> </div>
+$!include(inc/footer.inc)
 </body>
 </html>
-- 
tg: (c0f41f7..) t/template_standard_en (depends on: master t/custom_cosign_path)
