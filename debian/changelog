ossxp-cosign3 (3.2.0-25) unstable; urgency=low

  * Set CosignAllowValidationRedirect and other config variables

    From Cosign 3.2.0, there is a new config CosignAllowValidationRedirect.
    If set CosignAllowValidationRedirect On, /cosign/valid will format a
    new valid url for those url match with CosignValidReference but not
    the canonical domain name, and redirect to the new generated valid url.
    Since that a service can have many domain name.

 -- Jiang Xin <jiangxin@ossxp.com>  Sun, 06 May 2012 21:14:08 +0800

ossxp-cosign3 (3.2.0-24) unstable; urgency=low

  * Upgrade to cosign 3.2.0

 -- Jiang Xin <jiangxin@ossxp.com>  Sun, 06 May 2012 21:14:08 +0800

ossxp-cosign3 (3.1.4-24) unstable; urgency=low

  * set cosignstrictcheck off, to get a little performance gain.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 21 Feb 2012 17:40:56 +0800

ossxp-cosign3 (3.1.4-23) unstable; urgency=low

  * CosignValidReference should match full services url, for
    in cosign 3.1.4, partial match not passthrough.

 -- Jiang Xin <jiangxin@ossxp.com>  Mon, 20 Feb 2012 19:47:28 +0800

ossxp-cosign3 (3.1.4-22.1) unstable; urgency=low

  * Upstream upgrade to 3.1.4.

 -- Jiang Xin <jiangxin@ossxp.com>  Wed, 15 Feb 2012 15:50:34 +0800

ossxp-cosign3 (3.1.2-1.21) unstable; urgency=low

  * Change small font to 9pt, which looks better in IE.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 28 Jun 2011 13:11:23 +0800

ossxp-cosign3 (3.1.2-1.20) unstable; urgency=low

  * CoSign standalone apache2 https config file.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 07 Jun 2011 20:35:26 +0800

ossxp-cosign3 (3.1.2-1.18) unstable; urgency=low

  * Upstream upgrade to 3.1.2

 -- Jiang Xin <jiangxin@ossxp.com>  Wed, 30 Jun 2010 15:16:55 +0800

ossxp-cosign3 (3.1.1-1.18) unstable; urgency=low

  * Enlarge font size in services list.
  * Change invite code fileld name to 8 characters.
  * Merge templates locales into master, in case templates
    forget to include locale dir.

 -- Jiang Xin <jiangxin@ossxp.com>  Sun, 13 Jun 2010 11:41:36 +0800

ossxp-cosign3 (3.1.1-1.14) unstable; urgency=low

  * Fixed #171, add unittest using check unittest framework.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 18 May 2010 11:36:09 +0800

ossxp-cosign3 (3.1.1-1.13) unstable; urgency=low

  * Fixed javascript bug.
  * Fixed #165, reauth can not switch user.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 11 May 2010 11:22:46 +0800

ossxp-cosign3 (3.1.1-1.12) unstable; urgency=low

  * Admin factor check fact name more strickly.

 -- Jiang Xin <jiangxin@ossxp.com>  Thu, 29 Apr 2010 22:30:42 +0800

ossxp-cosign3 (3.1.1-1.11) unstable; urgency=low

  * Support OR operation for required factors, such as:
    factor1|factor2,factor3

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 27 Apr 2010 10:23:52 +0800

ossxp-cosign3 (3.1.1-1.10) unstable; urgency=low

  * Fixed: register multi-returned-factors.

 -- Jiang Xin <jiangxin@ossxp.com>  Mon, 26 Apr 2010 11:03:27 +0800

ossxp-cosign3 (3.1.1-1.9) unstable; urgency=low

  * Support multiple auth factors returned by one factor.
  * Admin factor returns a comma seperated authed factors.

 -- Jiang Xin <jiangxin@ossxp.com>  Mon, 26 Apr 2010 11:03:27 +0800

ossxp-cosign3 (3.1.1-1.8) unstable; urgency=low

  * New factor support flag -3.
  * New factor: admin.

 -- Jiang Xin <jiangxin@ossxp.com>  Sat, 24 Apr 2010 19:36:49 +0800

ossxp-cosign3 (3.1.1-1.7) unstable; urgency=low

  * Bugfix: build script failed for new cdbs.

 -- Jiang Xin <jiangxin@ossxp.com>  Fri, 23 Apr 2010 18:28:22 +0800

ossxp-cosign3 (3.1.1-1.6+1) unstable; urgency=low

  * If login using email or invite factor, the remote_user is not
    the login username, but the user email address or nothing else.
    Set the REMOTE_USER to real userid from the query result from
    factors.
  * Fix type in login form: Login -> Username

 -- Jiang Xin <jiangxin@ossxp.com>  Thu, 08 Apr 2010 14:09:16 +0800

ossxp-cosign3 (3.1.1-1.5+3) unstable; urgency=low

  * Fixed JavaScript compatible issue.
  * Services URL serve by login
  * New factors support query user profile.
  * Apache redirect services -> login, cosign/*.html -> info/*.html
  * Bugfix: services redirect makes all icons in cosign/services lost.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 06 Apr 2010 19:20:29 +0800

ossxp-cosign3 (3.1.1-1.2) unstable; urgency=low

  * Set right template dir for info.
  * New google template.

 -- Jiang Xin <jiangxin@ossxp.com>  Mon, 05 Apr 2010 16:41:03 +0800

ossxp-cosign3 (3.1.1-1.1+5) unstable; urgency=low

  * Simplify templates.
  * bugfix for Lang.c realloc.
  * Add unittest for lang.c
  * Standard templates l10n.
  * Add services list for standard templates.

 -- Jiang Xin <jiangxin@ossxp.com>  Mon, 05 Apr 2010 16:41:03 +0800

ossxp-cosign3 (3.1.1-1.0) unstable; urgency=low

  * Template inclusion also parse using subfile.
  * Template refactor and add new factor: invite login.
  * New factor: ldap2 and invite.
  * CoSign CGI i18n.
  * New cgi: info.
  * Static htmls serve like templates.
  * New template macro: $!_(gettext).
  * Generate log if auth failed, for fail2ban.
  * Generate server UNKNOWN only necessary.

 -- Jiang Xin <jiangxin@ossxp.com>  Fri, 02 Apr 2010 10:14:25 +0800

ossxp-cosign3 (3.1.1-0.9+1) unstable; urgency=low

  * Config files tuning.
  * LDAP login failed message does not leak message.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 16 Mar 2010 19:05:16 +0800

ossxp-cosign3 (3.1.1-0.8) unstable; urgency=low

  * Static web pages serve for different languages.
  * More testcase for cosign demo site.
  * Service directives in cosign.conf are compatible with old apps.

 -- Jiang Xin <jiangxin@ossxp.com>  Sun, 14 Mar 2010 11:21:49 +0800

ossxp-cosign3 (3.1.1-0.3.0) unstable; urgency=low

  * Upstream upgrade to 3.1.1.

 -- Jiang Xin <jiangxin@ossxp.com>  Wed, 10 Mar 2010 16:49:34 +0800

ossxp-cosign (2.1.1-0.2.82+) unstable; urgency=low

  * Add blog to google_template.

 -- Jiang Xin <jiangxin@ossxp.com>  Wed, 06 Jan 2010 20:19:43 +0800

ossxp-cosign (2.1.1-0.2.81+git) unstable; urgency=low

  * Maintain using git;

 -- Jiang Xin <jiangxin@ossxp.com>  Thu, 24 Dec 2009 18:31:35 +0800

ossxp-cosign (2.1.1-0.2.81) unstable; urgency=low

  * Services now read srvlist from templates;
  * Php in services handle logout properly;
  * English templates works;

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 17 Nov 2009 00:34:07 +0800

ossxp-cosign (2.1.1-0.2.77) unstable; urgency=low

  * Template now can include files, using this syntax:
    $!include(filename*.txt)
  * New templates using $!include() macro.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 17 Nov 2009 00:34:07 +0800

ossxp-cosign (2.1.1-0.2.74) unstable; urgency=low

  * php script works with php in cgi mode.

 -- Jiang Xin <jiangxin@ossxp.com>  Fri, 30 Oct 2009 23:43:13 +0800

ossxp-cosign (2.1.1-0.2.70) unstable; urgency=low

  * Cosign Cgi redirt / to https://weblogin/cgi-bin/login

 -- Jiang Xin <jiangxin@ossxp.com>  Thu, 03 Sep 2009 20:06:38 +0800

ossxp-cosign (2.1.1-0.2.68) unstable; urgency=low

  * Deploy certs to /opt/ossxp/ssl/certs/cosign-*/

 -- Jiang Xin <jiangxin@ossxp.com>  Thu, 03 Sep 2009 20:06:38 +0800

ossxp-cosign (2.1.1-0.2.65) unstable; urgency=low

  * Re-generated CA cert which can be used as a root ca.
  * Apache2.2 >= 2.2.11, if cosign module load before ssl module,
    raise a Exception. So change cosign module name for apache2
    to x_cosign.load and x_cosign.conf

 -- Jiang Xin <jiangxin@ossxp.com>  Thu, 13 Aug 2009 14:16:42 +0800

ossxp-cosign (2.1.1-0.2.62) unstable; urgency=low

  * set idle time for cosign daemon and monster.

 -- Jiang Xin <jiangxin@ossxp.com>  Thu, 13 Aug 2009 14:16:42 +0800

ossxp-cosign (2.1.1-0.2.59) unstable; urgency=low

  * fix bug in services/ldap_api.php
  * set "CosignHttpOnly On"
  * never checkip.
  * new include file virtualhost.inf for VirtualHost
  * add http redirect.

 -- Jiang Xin <jiangxin@ossxp.com>  Fri, 10 Jul 2009 18:52:03 +0800

ossxp-cosign (2.1.1-0.2.47) unstable; urgency=low

  * add cosign.conf to /etc/apache2/mods-available
  * add /etc/apache2/include/https/cosign-cgi.conf, auto enable
    cosign-cgi for https. 
  * cosign conflicts with apache2 2.2.11.
  * package_info bugfix.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 16 Jun 2009 19:40:09 +0800

ossxp-cosign (2.1.1-0.2.36) unstable; urgency=low

  * Add ossxp package info.

 -- Jiang Xin <jiangxin@ossxp.com>  Thu, 11 Jun 2009 18:12:33 +0800

ossxp-cosign (2.1.1-0.2.33) unstable; urgency=low

  * Cosign upgrade to 2.1.1;

 -- Jiang Xin <jiangxin@ossxp.com>  Fri, 15 May 2009 17:26:44 +0800

ossxp-cosign (2.1.0-0.2.32) unstable; urgency=low

  * Cosign upgrade to 2.1.0;
  * Trac replace mantis in services list and cosign template.

 -- Jiang Xin <jiangxin@ossxp.com>  Fri, 13 Mar 2009 23:39:10 +0800

ossxp-cosign (2.1.0~rc1-0.1.5141) unstable; urgency=low

  * Support multi-language templates;
  * Add Google style templates;
  * Fix quirk behavior for CosignHttpOnly parameter;

 -- Jiang Xin <jiangxin@ossxp.com>  Thu, 11 Dec 2008 03:13:19 +0800

ossxp-cosign (2.1.0~rc1-0.1.5113) unstable; urgency=low

  * CoSign debian package initial.

 -- Jiang Xin <jiangxin@ossxp.com>  Tue, 02 Dec 2008 15:44:28 +0800
