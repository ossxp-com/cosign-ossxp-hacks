TEMPLATES = error.html expired_error.html login.html login_error.html verify-logout.html reauth.html inc locale
## static html also serve as template (jiangxin@ossxp.com)
TEMPLATES += post_error.html looping.html validation_error.html
TEMPLATES += services.html
HTML = cosign_base.css cosign_js.css
prefix=@prefix@
exec_prefix=@exec_prefix@
TMPLDIR  = @prefix@/templates
HTMLDIR  = @prefix@/html
SERVICESDIR  = @prefix@/services
INSTALL	=	@INSTALL@
DESTDIR=

all: ${TEMPLATES}

locale:
	cd $@; ${MAKE} all

install : all
	-mkdir -p $(DESTDIR)${exec_prefix}
	-mkdir -p $(DESTDIR)${TMPLDIR}
	-mkdir -p $(DESTDIR)${HTMLDIR}
	-for i in ${TEMPLATES}; do \
	    [ -e $$i ] && cp -a $$i $(DESTDIR)${TMPLDIR}; \
	done
	for i in ${HTML}; do \
	    cp -a $$i $(DESTDIR)${HTMLDIR}/; \
	done
	-mkdir -p $(DESTDIR)${HTMLDIR}/images
	cp images/*.gif $(DESTDIR)${HTMLDIR}/images/
	cp images/*.png $(DESTDIR)${HTMLDIR}/images/
	-mkdir -p $(DESTDIR)${HTMLDIR}/js
	cp js/*.js $(DESTDIR)${HTMLDIR}/js/
	-mkdir -p $(DESTDIR)${SERVICESDIR}
	cp services/*.html services/*.php $(DESTDIR)${SERVICESDIR}/

clean:

.PHONY: clean all ${TEMPLATES}
